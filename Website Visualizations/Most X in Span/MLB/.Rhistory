#Limit to top 10 spots
top_data <- data %>%
arrange(-HR, desc(nameFirst), -yearID) %>%
mutate(Rank = rank(-HR, ties.method = "min")) %>%
filter(Rank <= 10)
#Combine columns for display
top_data <- top_data %>%
mutate(chart_label = paste(nameFirst,nameLast, yearID))
#Create a column for alternating row colors in graph
top_data <- top_data %>%
mutate(EvenOdd = ifelse(row_number() %% 2 == 1, "Odd", "Even"))
#Create visual
top_data %>%
ggplot(aes(x = reorder(chart_label, HR), y = HR, fill = EvenOdd)) +
geom_bar(stat = "identity", color = "black") +
geom_text(aes(label = HR), fontface = "bold", hjust = -0.3) +
coord_flip(ylim = c(40, 55)) +
scale_y_continuous(breaks = seq(40, 55, 1)) +
scale_fill_manual(values = c("Odd" = "#134A8E", "Even" = "#1D2D5C")) +
theme(plot.title = element_text(size = 16, face = "bold"),
plot.subtitle = element_text(size = 12),
axis.title.x = element_text(size = 12, face = "bold"),
axis.text.x = element_text(size = 10),
axis.text.y = element_text(size = 10, face ="bold"),
legend.position = "none") +
labs(title = "Most Home Runs in a Single Season \nToronto Blue Jays Franchise History",
x = "",
y = "Home Runs")
View(top_data)
data.frame("playerID", "nameFirst")
False <- data.frame("playerID", "nameFirst")
View(False)
Fake <- data.frame("", "Vladimir", "Guerrero", "Toronto Blue Jays", "TOR", 45, 2021, 4)
View(Fake)
rbind(top_data,Fake)
Fake <- data.frame("", "Vladimir", "Guerrero", "Toronto Blue Jays", "TOR", 45, 2021, 4)
#Set working directory
setwd("C:/Users/daily/Desktop/Repositories/MiscVisuals/Website Visualizations/Most X in a Season Franchise History/Toronto Blue Jays")
#Loading necessary libraries
library(sqldf)
library(tidyverse)
library(zoo)
library(data.table)
library(Lahman)
#Get data from Lahman Database
data <- sqldf("SELECT People.playerID, People.nameFirst, People.nameLast,
TeamsFranchises.franchName AS Team, TeamsFranchises.franchID, SUM(Batting.HR) AS HR, Batting.yearID
FROM People
INNER JOIN Batting
ON People.playerID = Batting.PlayerID
INNER JOIN Teams
ON Batting.teamID = Teams.teamID
AND Batting.yearID = Teams.yearID
INNER JOIN TeamsFranchises
ON Teams.franchID = TeamsFranchises.franchID
WHERE TeamsFranchises.franchName = 'Toronto Blue Jays'
GROUP BY People.playerID, Batting.yearID
ORDER BY Batting.HR DESC")
#Limit to top 10 spots
top_data <- data %>%
arrange(-HR, desc(nameFirst), -yearID) %>%
mutate(Rank = rank(-HR, ties.method = "min")) %>%
filter(Rank <= 10)
rbind(top_data, Fake)
rbind(top_data, setNames(Fake, names(top_data)))
#Set working directory
setwd("C:/Users/daily/Desktop/Repositories/MiscVisuals/Website Visualizations/Most X in a Season Franchise History/Toronto Blue Jays")
#Loading necessary libraries
library(sqldf)
library(tidyverse)
library(zoo)
library(data.table)
library(Lahman)
#Get data from Lahman Database
data <- sqldf("SELECT People.playerID, People.nameFirst, People.nameLast,
TeamsFranchises.franchName AS Team, TeamsFranchises.franchID, SUM(Batting.HR) AS HR, Batting.yearID
FROM People
INNER JOIN Batting
ON People.playerID = Batting.PlayerID
INNER JOIN Teams
ON Batting.teamID = Teams.teamID
AND Batting.yearID = Teams.yearID
INNER JOIN TeamsFranchises
ON Teams.franchID = TeamsFranchises.franchID
WHERE TeamsFranchises.franchName = 'Toronto Blue Jays'
GROUP BY People.playerID, Batting.yearID
ORDER BY Batting.HR DESC")
View(data)
#Set working directory
setwd("C:/Users/daily/Desktop/Repositories/MiscVisuals/Waffle Charts")
#Loading libraries
library(tidyverse)
library(waffle)
#Create HR by team vector
vector_for_chart <- c("Montreal Expos" = 51,
"Seattle Mariners" = 2162,
"Houston Astros" = 116,
"Arizona Diamondbacks" = 2077,
"New York Yankees" = 383,
"San Francisco Giants" = 86)
#Create colors for chart
chart_colors <- c("Montreal Expos" = "#003087",
"Seattle Mariners" = "#005C5C",
"Houston Astros" = "#FF8200",
"Arizona Diamondbacks" = "#5F259F",
"New York Yankees" = "#0C2340",
"San Francisco Giants" = "#FD5A1E")
#Create visual
waffle(vector_for_chart / 10,
rows = 20,
colors = chart_colors,
title = "Randy Johnson Strikeouts by Team",
xlab = "1 Box = 10 Strikeouts")
#Set working directory
setwd("C:/Users/daily/Desktop/Repositories/MiscVisuals/Website Visualizations/Most X in Franchise History/Milwaukee Brewers")
#Loading necessary libraries
library(sqldf)
library(tidyverse)
library(zoo)
library(data.table)
library(Lahman)
#Get data from Lahman Database
data <- sqldf("SELECT People.playerID, People.nameFirst, People.nameLast,
TeamsFranchises.franchName AS Team, TeamsFranchises.franchID, SUM(Batting.H) AS H, GROUP_CONCAT(DISTINCT Batting.yearID) AS Seasons
FROM People
INNER JOIN Batting
ON People.playerID = Batting.PlayerID
INNER JOIN Teams
ON Batting.teamID = Teams.teamID
AND Batting.yearID = Teams.yearID
INNER JOIN TeamsFranchises
ON Teams.franchID = TeamsFranchises.franchID
WHERE TeamsFranchises.franchName = 'Milwaukee Brewers'
GROUP BY Batting.playerID
ORDER BY SUM(Batting.H) DESC")
#Limit to top 10 spots
top_data <- data %>%
mutate(Rank = rank(-H, ties.method = "min")) %>%
filter(Rank <= 10)
View(top_data)
top_data
#Set working directory
setwd("C:/Users/daily/Desktop/Repositories/MiscVisuals/Website Visualizations/Most X in Franchise History/Milwaukee Brewers")
#Loading necessary libraries
library(sqldf)
library(tidyverse)
library(zoo)
library(data.table)
library(Lahman)
#Get data from Lahman Database
data <- sqldf("SELECT People.playerID, People.nameFirst, People.nameLast,
TeamsFranchises.franchName AS Team, TeamsFranchises.franchID, SUM(Batting.H) AS H, GROUP_CONCAT(DISTINCT Batting.yearID) AS Seasons
FROM People
INNER JOIN Batting
ON People.playerID = Batting.PlayerID
INNER JOIN Teams
ON Batting.teamID = Teams.teamID
AND Batting.yearID = Teams.yearID
INNER JOIN TeamsFranchises
ON Teams.franchID = TeamsFranchises.franchID
WHERE TeamsFranchises.franchName = 'Milwaukee Brewers'
GROUP BY Batting.playerID
ORDER BY SUM(Batting.H) DESC")
#Limit to top 10 spots
top_data <- data %>%
mutate(Rank = rank(-H, ties.method = "min")) %>%
filter(Rank <= 10)
#Create SeasonRange Column for Display
top_data <- top_data %>%
mutate(SeasonRange = ifelse(nameFirst == 'Robin' & nameLast == 'Yount', '1974-1993',
ifelse(nameFirst == 'Paul' & nameLast == 'Molitor', '1978-1992',
ifelse(nameFirst == 'Ryan' & nameLast == 'Braun', '2007-2020',
ifelse(nameFirst == 'Cecil' & nameLast == 'Cooper', '1977-1987',
ifelse(nameFirst == 'Jim' & nameLast == 'Gantner', '1976-1992',
ifelse(nameFirst == 'Geoff' & nameLast == 'Jenkins', '1998-2007',
ifelse(nameFirst == 'Don' & nameLast == 'Money', '1973-1983',
ifelse(nameFirst == 'Ben' & nameLast == 'Oglivie', '1978-1986',
ifelse(nameFirst == 'B. J.' & nameLast == 'Surhoff', '1987-1995','1973-1986'))))))))))
#Combine columns for display
top_data <- top_data %>%
mutate(chart_label = paste(nameFirst,nameLast, "\n", SeasonRange))
#Create a column for alternating row colors in graph
top_data <- top_data %>%
mutate(EvenOdd = ifelse(row_number() %% 2 == 1, "Odd", "Even"))
View(data)
#Set working directory
setwd("C:/Users/daily/Desktop/Repositories/MiscVisuals/Website Visualizations/Most X in Franchise History/Milwaukee Brewers")
#Loading necessary libraries
library(sqldf)
library(tidyverse)
library(zoo)
library(data.table)
library(Lahman)
#Get data from Lahman Database
data <- sqldf("SELECT People.playerID, People.nameFirst, People.nameLast,
TeamsFranchises.franchName AS Team, TeamsFranchises.franchID, SUM(Batting.H) AS H, GROUP_CONCAT(DISTINCT Batting.yearID) AS Seasons
FROM People
INNER JOIN Batting
ON People.playerID = Batting.PlayerID
INNER JOIN Teams
ON Batting.teamID = Teams.teamID
AND Batting.yearID = Teams.yearID
INNER JOIN TeamsFranchises
ON Teams.franchID = TeamsFranchises.franchID
WHERE TeamsFranchises.franchName = 'Milwaukee Brewers'
GROUP BY Batting.playerID
ORDER BY SUM(Batting.H) DESC")
#Limit to top 10 spots
top_data <- data %>%
mutate(Rank = rank(-H, ties.method = "min")) %>%
filter(Rank <= 10)
#Create SeasonRange Column for Display
top_data <- top_data %>%
mutate(SeasonRange = ifelse(nameFirst == 'Robin' & nameLast == 'Yount', '1974-1993',
ifelse(nameFirst == 'Paul' & nameLast == 'Molitor', '1978-1992',
ifelse(nameFirst == 'Ryan' & nameLast == 'Braun', '2007-2020',
ifelse(nameFirst == 'Cecil' & nameLast == 'Cooper', '1977-1987',
ifelse(nameFirst == 'Jim' & nameLast == 'Gantner', '1976-1992',
ifelse(nameFirst == 'Geoff' & nameLast == 'Jenkins', '1998-2007',
ifelse(nameFirst == 'Don' & nameLast == 'Money', '1973-1983',
ifelse(nameFirst == 'Ben' & nameLast == 'Oglivie', '1978-1986',
ifelse(nameFirst == 'B. J.' & nameLast == 'Surhoff', '1987-1995','1973-1986'))))))))))
#Combine columns for display
top_data <- top_data %>%
mutate(chart_label = paste(nameFirst,nameLast, "\n", SeasonRange))
#Create a column for alternating row colors in graph
top_data <- top_data %>%
mutate(EvenOdd = ifelse(row_number() %% 2 == 1, "Odd", "Even"))
#Create visual
top_data %>%
ggplot(aes(x = reorder(chart_label, H), y = H, fill = EvenOdd)) +
geom_bar(stat = "identity", color = "black") +
geom_text(aes(label = H), fontface = "bold", hjust = -0.3) +
coord_flip(ylim = c(1000, 3200)) +
scale_y_continuous(breaks = seq(1000, 3200, 100)) +
scale_fill_manual(values = c("Odd" = "#FFC52F", "Even" = "#12284B")) +
theme(plot.title = element_text(size = 16, face = "bold"),
plot.subtitle = element_text(size = 12),
axis.title.x = element_text(size = 12, face = "bold"),
axis.text.x = element_text(size = 10),
axis.text.y = element_text(size = 10, face ="bold"),
legend.position = "none") +
labs(title = "Most Hits in Milwaukee Brewers Franchise History",
x = "",
y = "Hits")
#Set working directory
setwd("C:/Users/daily/Desktop/Repositories/MiscVisuals/Website Visualizations/Most X in a Season Franchise History/Pittsburgh Pirates")
#Loading necessary libraries
library(sqldf)
library(tidyverse)
library(zoo)
library(data.table)
library(Lahman)
#Get data from Lahman Database
data <- sqldf("SELECT People.playerID, People.nameFirst, People.nameLast,
TeamsFranchises.franchName AS Team, TeamsFranchises.franchID, SUM(Batting.HR) AS HR, Batting.yearID
FROM People
INNER JOIN Batting
ON People.playerID = Batting.PlayerID
INNER JOIN Teams
ON Batting.teamID = Teams.teamID
AND Batting.yearID = Teams.yearID
INNER JOIN TeamsFranchises
ON Teams.franchID = TeamsFranchises.franchID
WHERE TeamsFranchises.franchName = 'Pittsburgh Pirates'
GROUP BY People.playerID, Batting.yearID
ORDER BY Batting.HR DESC")
#Limit to top 10 spots
top_data <- data %>%
mutate(Rank = rank(-HR, ties.method = "min")) %>%
filter(Rank <= 10)
#Combine columns for display
top_data <- top_data %>%
mutate(chart_label = paste(nameFirst,nameLast, yearID))
#Create a column for alternating row colors in graph
top_data <- top_data %>%
mutate(EvenOdd = ifelse(row_number() %% 2 == 1, "Odd", "Even"))
View(top_data)
#Set working directory
setwd("C:/Users/daily/Desktop/Repositories/MiscVisuals/Website Visualizations/Most X in a Season Franchise History/Pittsburgh Pirates")
#Loading necessary libraries
library(sqldf)
library(tidyverse)
library(zoo)
library(data.table)
library(Lahman)
#Get data from Lahman Database
data <- sqldf("SELECT People.playerID, People.nameFirst, People.nameLast,
TeamsFranchises.franchName AS Team, TeamsFranchises.franchID, SUM(Batting.HR) AS HR, Batting.yearID
FROM People
INNER JOIN Batting
ON People.playerID = Batting.PlayerID
INNER JOIN Teams
ON Batting.teamID = Teams.teamID
AND Batting.yearID = Teams.yearID
INNER JOIN TeamsFranchises
ON Teams.franchID = TeamsFranchises.franchID
WHERE TeamsFranchises.franchName = 'Pittsburgh Pirates'
GROUP BY People.playerID, Batting.yearID
ORDER BY Batting.HR DESC")
#Limit to top 10 spots
top_data <- data %>%
mutate(Rank = rank(-HR, ties.method = "min")) %>%
filter(Rank <= 10)
#Combine columns for display
top_data <- top_data %>%
mutate(chart_label = paste(nameFirst,nameLast, yearID))
#Create a column for alternating row colors in graph
top_data <- top_data %>%
mutate(EvenOdd = ifelse(row_number() %% 2 == 1, "Odd", "Even"))
#Create visual
top_data %>%
ggplot(aes(x = reorder(chart_label, HR), y = HR, fill = EvenOdd)) +
geom_bar(stat = "identity", color = "black") +
geom_text(aes(label = HR), fontface = "bold", hjust = -0.3) +
coord_flip(ylim = c(35, 55)) +
scale_y_continuous(breaks = seq(35, 55, 1)) +
scale_fill_manual(values = c("Odd" = "#27251F", "Even" = "#FDB827")) +
theme(plot.title = element_text(size = 16, face = "bold"),
plot.subtitle = element_text(size = 12),
axis.title.x = element_text(size = 12, face = "bold"),
axis.text.x = element_text(size = 10),
axis.text.y = element_text(size = 10, face ="bold"),
legend.position = "none") +
labs(title = "Most Home Runs in a Single Season \nPittsburgh Pirates Franchise History",
x = "",
y = "Home Runs")
#Set working directory
setwd("C:/Users/daily/Desktop/Repositories/MiscVisuals/Website Visualizations/Most X in a Season Franchise History/Pittsburgh Pirates")
#Loading necessary libraries
library(sqldf)
library(tidyverse)
library(zoo)
library(data.table)
library(Lahman)
#Get data from Lahman Database
data <- sqldf("SELECT People.playerID, People.nameFirst, People.nameLast,
TeamsFranchises.franchName AS Team, TeamsFranchises.franchID, SUM(Batting.HR) AS HR, Batting.yearID
FROM People
INNER JOIN Batting
ON People.playerID = Batting.PlayerID
INNER JOIN Teams
ON Batting.teamID = Teams.teamID
AND Batting.yearID = Teams.yearID
INNER JOIN TeamsFranchises
ON Teams.franchID = TeamsFranchises.franchID
WHERE TeamsFranchises.franchName = 'Pittsburgh Pirates'
GROUP BY People.playerID, Batting.yearID
ORDER BY Batting.HR DESC")
#Limit to top 10 spots
top_data <- data %>%
arrange(-HR, desc(nameFirst)) %>%
mutate(Rank = rank(-HR, ties.method = "min")) %>%
filter(Rank <= 10)
#Combine columns for display
top_data <- top_data %>%
mutate(chart_label = paste(nameFirst,nameLast, yearID))
#Create a column for alternating row colors in graph
top_data <- top_data %>%
mutate(EvenOdd = ifelse(row_number() %% 2 == 1, "Odd", "Even"))
#Create visual
top_data %>%
ggplot(aes(x = reorder(chart_label, HR), y = HR, fill = EvenOdd)) +
geom_bar(stat = "identity", color = "black") +
geom_text(aes(label = HR), fontface = "bold", hjust = -0.3) +
coord_flip(ylim = c(35, 55)) +
scale_y_continuous(breaks = seq(35, 55, 1)) +
scale_fill_manual(values = c("Odd" = "#27251F", "Even" = "#FDB827")) +
theme(plot.title = element_text(size = 16, face = "bold"),
plot.subtitle = element_text(size = 12),
axis.title.x = element_text(size = 12, face = "bold"),
axis.text.x = element_text(size = 10),
axis.text.y = element_text(size = 10, face ="bold"),
legend.position = "none") +
labs(title = "Most Home Runs in a Single Season \nPittsburgh Pirates Franchise History",
x = "",
y = "Home Runs")
#Set working directory
setwd("C:/Users/daily/Desktop/Repositories/MiscVisuals/Website Visualizations/Most X in Span/MLB")
#Loading necessary libraries
library(sqldf)
library(tidyverse)
library(zoo)
library(data.table)
library(weights)
library(Lahman)
#Get data from Lahman Database
data <- sqldf('SELECT People.nameFirst, People.nameLast, GROUP_CONCAT(DISTINCT Pitching.teamID) AS Teams,
MIN(yearID) AS MIN, MAX(yearID) AS MAX, SUM(Pitching.SO) AS Strikeouts
FROM People
INNER JOIN Pitching
ON People.playerID = Pitching.playerID
WHERE People.birthCountry = "Mexico"
GROUP BY People.playerID
ORDER BY Strikeouts DESC')
#Limit to top 10 spots
top_data <- data %>%
mutate(Rank = rank(-Strikeouts, ties.method = "min")) %>%
filter(Rank <= 10)
#Combine columns for display
top_data <- top_data %>%
mutate(chart_label = paste(nameFirst,nameLast, "\n", MIN, "-", MAX))
View(top_data)
View(top_data)
#Set working directory
setwd("C:/Users/daily/Desktop/Repositories/MiscVisuals/Website Visualizations/Most X in Span/MLB")
#Loading necessary libraries
library(sqldf)
library(tidyverse)
library(zoo)
library(data.table)
library(weights)
library(Lahman)
#Get data from Lahman Database
data <- sqldf('SELECT People.nameFirst, People.nameLast, GROUP_CONCAT(DISTINCT Pitching.teamID) AS Teams,
MIN(yearID) AS MIN, MAX(yearID) AS MAX, SUM(Pitching.SO) AS Strikeouts
FROM People
INNER JOIN Pitching
ON People.playerID = Pitching.playerID
WHERE People.birthCountry = "Mexico"
GROUP BY People.playerID
ORDER BY Strikeouts DESC')
#Limit to top 10 spots
top_data <- data %>%
mutate(Rank = rank(-Strikeouts, ties.method = "min")) %>%
filter(Rank <= 10)
#Combine columns for display
top_data <- top_data %>%
mutate(chart_label = paste(nameFirst,nameLast, "\n", MIN, "-", MAX))
#Team Colors for display
fill_color <- c("Valenzuela" = "#005A9C",
"Gallardo" = "#FFC52F",
"Perez" = "#27251F",
"Loaiza" = "#C4CED4",
"De La Rosa" = "#33006F",
"Valdez" = "#005A9C",
"Estrada" = "#134A8E",
"Higuera" = "#FFC52F",
"Garcia" = "#C41E3A",
"Lopez" = "#DF4601")
#Create visual
top_data %>%
ggplot(aes(x = reorder(chart_label, Strikeouts), y = Strikeouts, fill = nameLast)) +
geom_bar(stat = "identity", color = "black") +
geom_text(aes(label = Strikeouts), fontface = "bold", hjust = -0.3) +
coord_flip(ylim = c(0, 2200)) +
scale_y_continuous(breaks = seq(0, 2200, 200)) +
scale_fill_manual(values = fill_color) +
theme(plot.title = element_text(size = 16, face = "bold"),
plot.subtitle = element_text(size = 12),
axis.title.x = element_text(size = 12, face = "bold"),
axis.text.x = element_text(size = 10),
axis.text.y = element_text(size = 10, face ="bold"),
legend.position = "none") +
labs(title = "Most Career Strikeouts in MLB by a Pitcher born in Mexico",
subtitle = "Data only includes completed seasons",
x = "",
y = "Strikeouts")
#Set working directory
setwd("C:/Users/daily/Desktop/Repositories/MiscVisuals/Website Visualizations/Most X in Span/MLB")
#Loading necessary libraries
library(sqldf)
library(tidyverse)
library(zoo)
library(data.table)
library(weights)
library(Lahman)
#Get data from Lahman Database
data <- sqldf('SELECT People.nameFirst, People.nameLast, GROUP_CONCAT(DISTINCT Pitching.teamID) AS Teams,
MIN(yearID) AS MIN, MAX(yearID) AS MAX, SUM(Pitching.SO) AS Strikeouts
FROM People
INNER JOIN Pitching
ON People.playerID = Pitching.playerID
WHERE People.birthCountry = "Mexico"
GROUP BY People.playerID
ORDER BY Strikeouts DESC')
#Limit to top 10 spots
top_data <- data %>%
mutate(Rank = rank(-Strikeouts, ties.method = "min")) %>%
filter(Rank <= 10)
#Combine columns for display
top_data <- top_data %>%
mutate(chart_label = paste(nameFirst,nameLast, "\n", MIN, "-", MAX))
#Team Colors for display
fill_color <- c("Valenzuela" = "#005A9C",
"Gallardo" = "#FFC52F",
"Perez" = "#27251F",
"Loaiza" = "#C4CED4",
"De La Rosa" = "#33006F",
"Valdez" = "#005A9C",
"Estrada" = "#1D2D5C",
"Higuera" = "#FFC52F",
"Garcia" = "#C41E3A",
"Lopez" = "#DF4601")
#Create visual
top_data %>%
ggplot(aes(x = reorder(chart_label, Strikeouts), y = Strikeouts, fill = nameLast)) +
geom_bar(stat = "identity", color = "black") +
geom_text(aes(label = Strikeouts), fontface = "bold", hjust = -0.3) +
coord_flip(ylim = c(0, 2200)) +
scale_y_continuous(breaks = seq(0, 2200, 200)) +
scale_fill_manual(values = fill_color) +
theme(plot.title = element_text(size = 16, face = "bold"),
plot.subtitle = element_text(size = 12),
axis.title.x = element_text(size = 12, face = "bold"),
axis.text.x = element_text(size = 10),
axis.text.y = element_text(size = 10, face ="bold"),
legend.position = "none") +
labs(title = "Most Career Strikeouts in MLB by a Pitcher born in Mexico",
subtitle = "Data only includes completed seasons",
x = "",
y = "Strikeouts")
